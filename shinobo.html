<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="振動表現プロジェクト　誰もが参画できる新しい表現を探る日本大学学生プロジェクト">
    <title>vibratory expression - 振動表現プロジェクト</title>
    <link rel="stylesheet" href="shinobo.css">
</head>
<body>
  
<!-- 振動体験ポップアップ -->
<div id="vibrationPopup" class="popup-overlay">
    <div class="popup-content">
        <button class="popup-close" onclick="closePopup()">×</button>
        
        <!-- 言語切り替えボタンを追加 -->
        <button 
            id="popupLangBtn" 
            class="popup-lang-button" 
            onclick="toggleLanguage()" 
            aria-label="言語を切り替える。現在:日本語">
            <span id="popupLangText">EN</span>
        </button>
        
        <div class="popup-header">
            <h2 id="popupTitle">まず 振動を体験</h2>
        </div>
        
        <div class="warning-box">
            <h3 id="popupWarningTitle">体験前の注意事項</h3>
            <ul>
                <li id="popupWarning1">・一部の古い端末では動作しません</li>
                <li id="popupWarning2">・不快感を感じたら中止してください</li>
            </ul>
        </div>
        
        <!-- ステップ1: 振動体験 -->
        <div id="popup-step1" class="vibration-area">
            <p class="tagline" id="popupStep1Title">振動を体験</p>
            <p id="popupStep1Text">ボタンを押して振動を感じてみましょう</p>
            
            <button 
                class="vibration-button" 
                id="popupVibrateButton"
                onclick="popupStartVibration()">
                〜
            </button>
            
            <div id="popupVideoContainer" class="vibration-video-container hidden">
                <!-- 動画をここに挿入 - autoplay属性を追加 -->
                <video id="popupVideo" width="100%" autoplay muted playsinline style="border-radius: 8px;">
                    <source src="YOUR_VIDEO_URL.mp4" type="video/mp4">
                    お使いのブラウザは動画タグに対応していません。
                </video>
            </div>

            <div class="vibration-status" id="popupVibrateStatus">
                ボタンを押してください
            </div>
        </div>

        <!-- ステップ2: 共有画面 -->
        <div id="popup-step2share" class="vibration-area hidden">
            <p class="tagline" id="popupShareTitle">振動を共有</p>
            <p id="popupShareText">この体験を友達にも届けましょう</p>
            
            <div style="display: flex; gap: 10px; justify-content: center; flex-wrap: wrap; margin: 30px 0;">
                <button onclick="shareToTwitter()" class="button-secondary button" id="shareTwitterBtn">
                    Xで共有
                </button>
                <button onclick="shareToLine()" class="button-secondary button" id="shareLineBtn">
                    LINEで共有
                </button>
                <button onclick="copyLink()" class="button-secondary button" id="shareCopyBtn">
                    リンクコピー
                </button>
            </div>
            
            <button class="button" onclick="closePopup()" id="viewSiteBtn">
                サイトを見る
            </button>
        </div>
    </div>
</div>       
            
         
    <!-- 以下は既存のコンテンツ -->
   
    <!-- スクリーンリーダー用スキップリンク -->
    <a href="#main-content" class="skip-link">メインコンテンツへスキップ</a>
    <a href="#experience" class="skip-link">振動体験へジャンプ</a>
    <a href="#about" class="skip-link">コンセプトへジャンプ</a>
    <a href="#recruitment" class="skip-link">メンバー募集へジャンプ</a>
    <a href="#contact" class="skip-link">応募フォームへジャンプ</a>

    <header role="banner">
        <div class="header-container">
            <!-- ロゴ -->
            <div class="site-logo">
                <h1><span class="vib"> VIBRATORY</span> <br>  EXPRESSION LAB</h1>
                     <p class="tagline">
        <span class="orange">振動</span>は表現になるか？
        </p>
        <p class="subtitle">
        「令和8年度日本大学自主創造プロジェクト 日大生のやってみたいを実現するプロジェクト」申請予定</p>
            </div>
            
            <!-- 言語切り替え＆メニューボタン -->
            <div class="header-controls">
                <!-- 言語切り替え -->
                <button 
                    id="langBtn" 
                    class="lang-button" 
                    onclick="toggleLanguage()" 
                       
                    aria-label="言語を切り替える。現在：日本語">
                    <span id="langText" aria-hidden="true">EN</span>
                </button>
                
                <!-- ハンバーガーメニューボタン -->
                <button 
                    id="menuBtn" 
                    class="menu-button" 
                    onclick="toggleMenu()"
                    aria-label="メニューを開く"
                    aria-expanded="false"
                    aria-controls="main-nav">
                    <span class="menu-icon" aria-hidden="true">
                        <span></span>
                        <span></span>
                        <span></span>
                    </span>
                    <span class="menu-text">メニュー</span>
                </button>
            </div>
        </div>
        
 
        
        <!-- ナビゲーションメニュー -->
        <nav 
            id="main-nav" 
            class="main-nav" 
            role="navigation" 
            aria-label="メインナビゲーション"
            hidden>
            <ul>
 
                <li><a href="#about" onclick="closeMenu()">この企画について</a></li>
                <li><a href="#recruitment" onclick="closeMenu()">メンバー募集概要</a></li>
                <li><a href="#contact" onclick="closeMenu()">応募フォーム</a></li>
            </ul>
        </nav>
    </header>

    <!-- メインコンテンツ -->
    <main id="main-content" role="main">
        
        <!-- 振動体験セクション -->
        <section id="experience" aria-labelledby="experience-heading">
            <h2 id="experience-heading">まず 振動を体験</h2>
            
            <div class="warning-box" role="alert">
                <h3>体験前の注意事項</h3>
                <ul>
                    <li>・一部の古い端末では動作しません</li>
                    <li>・不快感を感じたら中止してください</li>
                </ul>
            </div>
            <!-- ステップ1：選択 -->
            <div id="step1" class="vibration-area">
                <p class="tagline">揺れる</p>
                <p>一人でも　誰かと一緒でも</p>
                
                <div class="choice-buttons">
                    <button class="choice-button" onclick="chooseAlone()" aria-label="一人で振動を体験する">
                        <strong>一人で体験する</strong>
                    </button>
                    <button class="choice-button" onclick="chooseTogether()" aria-label="誰かと一緒に振動を体験する">
                        <strong>誰かと一緒に体験する</strong>
                    </button>
                </div>
            </div>

            <!-- ステップ2：一人での体験 -->
            <div id="step2alone" class="vibration-area hidden">
                <p class="tagline"><span class="tre">振動を感じる</span></p>
                <p><span class="tre">自分で起こして自分に伝える</span></p>
                
                <button 
                    class="vibration-button" 
                    id="aloneButton"
                    onclick="vibrateAlone()"
                    aria-label="振動ボタン。押すとスマートフォンが振動します">
                    〜
                </button>
                
                <div id="aloneVideo" class="vibration-video-container hidden"></div>

                <div class="vibration-status" id="aloneStatus" role="status" aria-live="polite">
                    ボタンを押してください
                </div>

                <div style="margin-top: var(--spacing-large);">
                    <p style="font-style: italic;">
                        この振動どのように伝わった？<br>
                    </p>
                </div>

                <div style="margin-top: var(--spacing-medium);">
                    <button class="button-secondary button" onclick="chooseTogether()">
                        誰かと共有してみる
                    </button>
                    <button class="button-secondary button" onclick="backToStart()" style="margin-left: 10px;">
                        選択に戻る
                    </button>
                </div>
            </div>

        <!-- ステップ3：一緒に体験 -->
<div id="step2together" class="vibration-area hidden">
    <p class="tagline">この振動体験を共有</p>
    <p>
        ボタンを押して振動を体験<br>
        そして誰かにも振動を届ける<br>
    </p>
    
    <button 
        class="vibration-button" 
        id="togetherButton"
        onclick="vibrateTogether()"
        aria-label="振動ボタン">
        〜〜
    </button>
    
    <div id="togetherVideo" class="vibration-video-container hidden"></div>


    <div class="vibration-status" id="togetherStatus" role="status" aria-live="polite">
        ボタンを押してください
    </div>

    
</div>
            </div>
        </section>

       
<!-- プロジェクト概要 -->
<section id="about" aria-labelledby="about-heading">
    <h2 id="about-heading">この企画について</h2>
    
    <div class="important-box">
        <p>
            <strong>表現をみんなに</strong>
        </p>
        <p>
            振動そのものは、独立した表現手段になるのか？<br>
            生きている身体 すべてが参画できる芸術の可能性を探ります。
        </p>
    </div>

    <!-- 2段組エリア -->
    <div class="two-column-about">
        <div class="column-item">
            <h3>企画概要</h3>
            <p> 　芸術は、ある感覚では受け取りにくい人に対して、その表現を別の感覚へ置き換えることで共有されている。その変換の過程では、新たな価値が生まれたり逆に失われたりする可能性がある。その変化は興味深い。しかし、その体験は元の表現とは異なるものを受け取るものになる。
            </p>
            <p>
                　そこで、本企画では誰もが直接参加できる表現として振動に注目する。振動は骨伝導や触覚によって伝わり、生きる誰もが心拍によって発生させている。<br>
                　はたして振動は表現になるか？振動を他の何かの変化ではなく、表現方法自体にすることで、今までとは違う”万人に向けたダイレクトな表現”が可能になると考える。</p>
        </div>

        <div class="column-item">
            <h3>やりたいこと</h3>
            <ul>
                <li>振動空間の制作（会場そのものを表現装置にする）</li>
                <li>振動による表現の創案（例：演奏・描画・パフォーマンスなどの振動版）</li>
                <li>身体障害を持つ人を含むメンバーへの体験実験とフィードバック</li>
                <li>「振動芸術」という新ジャンルの提示と検証</li>
            </ul>
        </div>
    </div>
</section>

<!-- メンバー募集 -->
<section id="recruitment" aria-labelledby="recruitment-heading">
    <h2 id="recruitment-heading">一緒に実験するメンバーを募集しています</h2>
    
    <div class="important-box">
        <p><strong>同じ方向を向いてくれる全ての日大生を歓迎します。また、学外の方も大歓迎です。<br>不定期の参加も大歓迎です。</strong></p>
       <p style="margin-top: 20px;">
            <a href="./メンバー募集のための説明書.pdf" class="button" download aria-label="メンバー募集説明書PDFをダウンロード">
                📄 詳しい説明書をダウンロード（PDF）
            </a>
        </p>
    </div>

    <!-- 2段組エリア -->
    <div class="two-column-about">
        <div class="column-item emphasis" data-animate="marker">
            <h3><span class="highlight-text">特に以下の分野に関心がある方</span></h3>
            <ul>
                <li><strong>理工学部（建築・情報工学）：</strong>空間設計、振動測定、データ分析</li>
                <li><strong>文理学部（社会学・心理学）：</strong>実験設計、インクルージョンの視点</li>
                <li><strong>工学部：</strong>装置制作、ものづくり</li>
                <li><strong>芸術学部：</strong>パフォーマンス、映像記録、デザイン</li>
                <li><strong>その他全学部：</strong>新しい表現に関心がある人、誰でも歓迎</li>
            </ul>
        </div>

        <div class="column-item emphasis" data-animate="marker">
            <h3><span class="highlight-text">こんな経験ができます</span></h3>
            <ul>
                <li>実験的プロジェクト</li>
                <li>学部を超えた協働体験</li>
                <li>企画・制作・発表の一連の流れ</li>
                <li>ポートフォリオ・就職活動の話題になる実績</li>
                <li>社会に開かれた活動（成果の公開・発信）</li>
            </ul>
        </div>
    </div>
  
</section>

        <!-- プロジェクト情報 -->
        <section id="info" aria-labelledby="info-heading">
            <h2 id="info-heading">プロジェクト情報</h2>
          
            <div class="content-box">
                <dl>
                    <dt><strong>応募先</strong></dt>
                    <dd>令和8年度日本大学自主創造プロジェクト
日大生のやってみたいを実現するプロジェクト<a href="https://example.com">https://www.nihon-u.ac.jp/about/students_first/cooperation/</a></dd>
                    
                    <dt><strong>助成金</strong></dt>
                    <dd>最大100万円</dd>
                    
                    <dt><strong>活動期間</strong></dt>
                    <dd>2026年4月から2027年3月まで</dd>
                    
                    <dt><strong>必要なメンバー数</strong></dt>
                    <dd>5名以上、2学部以上</dd>
                </dl>
            </div>
        </section>

       

        <!-- 連絡フォーム -->
        <section id="contact" aria-labelledby="contact-heading">
            <h2 id="contact-heading">興味がある方、ご連絡ください</h2>
            
            <p>
                まずはお気軽に。質問だけでもOKです。<br>
                以下のフォームまたは直接連絡でどうぞ。
            </p>

            <form id="contactForm" aria-label="連絡フォーム">
                <div class="form-group">
                    <label for="name">
                        お名前 <span class="required" aria-label="必須">*</span>
                    </label>
                    <input 
                        type="text" 
                        id="name" 
                        name="name" 
                        required 
                        aria-required="true"
                        autocomplete="name">
                </div>

                <div class="form-group">
                    <label for="department">
                        学部・学年 <span class="required" aria-label="必須">*</span>
                    </label>
                    <input 
                        type="text" 
                        id="department" 
                        name="department" 
                        placeholder="例：理工学部 2年" 
                        required 
                        aria-required="true">
                </div>

                <div class="form-group">
                    <label for="email">
                        メールアドレス <span class="required" aria-label="必須">*</span>
                    </label>
                    <input 
                        type="email" 
                        id="email" 
                        name="email" 
                        required 
                        aria-required="true"
                        autocomplete="email">
                </div>

                <div class="form-group">
                    <label for="interest">興味のある役割・分野（任意）</label>
                    <select id="interest" name="interest" aria-label="興味のある役割・分野">
                        <option value="">選択してください</option>
                        <option value="design">空間設計・建築</option>
                        <option value="engineering">装置制作・工学</option>
                        <option value="data">データ分析・測定</option>
                        <option value="research">実験設計・社会学・心理学</option>
                        <option value="art">パフォーマンス・芸術表現</option>
                        <option value="media">映像・記録・広報</option>
                        <option value="inclusion">インクルージョン・アクセシビリティ</option>
                        <option value="other">その他</option>
                    </select>
                </div>

                <div class="form-group">
                    <label for="message">メッセージ・質問（任意）</label>
                    <textarea 
                        id="message" 
                        name="message" 
                        placeholder="興味を持った理由、質問、やってみたいことなど、自由にどうぞ"
                        aria-label="メッセージまたは質問"></textarea>
                </div>

                <button type="submit" class="button">送信</button>
            </form>

            <div id="formStatus" role="status" aria-live="polite"></div>

            <!-- 直接連絡 -->
            <div class="contact-box">
                <h3>直接連絡する場合</h3>
                <p>
                    <strong>メール：</strong><a href="mailto:YOUR_EMAIL@example.com">arsa23085@g.nihon-u.ac.jp</a>
                　芸術学部3年本間まで</p>
                
            </div>
        </section>

        <!-- 教員の方へ -->
        <section id="faculty" aria-labelledby="faculty-heading">
            <h2 id="faculty-heading">教員の方へ</h2>
            
            <div class="content-box">
                <p>
                    この企画は、工学、インクルーシブデザイン、芸術学など、複数の領域を横断する内容です。
                </p>
                <p>
                    ご助言、ご協力いただける教員の方がいらっしゃいましたら、ぜひご連絡ください。
                </p>
          </div>

    <!-- フッター -->
    <footer role="contentinfo">
      <p><strong><span class="vib">VIBRATORY</span> EXPRESSION LAB 
        <br><span class="vib">振動</span>は表現になるか？</strong></p>
        <p>「令和8年度日本大学自主創造プロジェクト
日大生のやってみたいを実現するプロジェクト」申請予定</p>
        <p class="note">
            ※本プロジェクトは申請予定であり、採択を保証するものではありません<br>
            ※日本大学の公認を示すものではありません
        </p>
    </footer>

  <script>
// ========================================
// ポップアップ制御
// ========================================
function closePopup() {
    document.getElementById('vibrationPopup').classList.add('hidden');
    document.body.style.overflow = 'auto';
    
    // タイトルとtaglineにアニメーションクラスを追加
    const siteLogo = document.querySelector('.site-logo');
    const tagline = document.querySelector('.tagline');
    
    siteLogo.classList.add('popup-closed');
    tagline.classList.add('popup-closed');
    
    // アニメーション終了後にクラスを削除
    setTimeout(() => {
        siteLogo.classList.remove('popup-closed');
        tagline.classList.remove('popup-closed');
    }, 1800);
}

// ページ読み込み時にポップアップ表示
window.addEventListener('load', function() {
    document.body.style.overflow = 'hidden';
});

// Escキーで閉じる（ポップアップとメニュー両方）
document.addEventListener('keydown', function(e) {
    if (e.key === 'Escape') {
        const popup = document.getElementById('vibrationPopup');
        if (!popup.classList.contains('hidden')) {
            closePopup();
        } else if (isMenuOpen) {
            closeMenu();
        }
    }
});

// ポップアップ背景クリックで閉じる
document.getElementById('vibrationPopup').addEventListener('click', function(e) {
    if (e.target === this) {
        closePopup();
    }
});

// ========================================
// 振動機能 - 新実装
// ========================================

// 振動API対応チェック
function canVibrate() {
    return "vibrate" in navigator;
}

// ポップアップでの振動開始
function popupStartVibration() {
    const button = document.getElementById('popupVibrateButton');
    const statusEl = document.getElementById('popupVibrateStatus');
    const videoContainer = document.getElementById('popupVideoContainer');
    const video = document.getElementById('popupVideo');
    
    button.disabled = true;
    
    if (canVibrate()) {
        // 振動API対応端末: 振動実行
        statusEl.textContent = isJapanese ? '振動中...' : 'Vibrating...';
        
        // 10秒間の心拍のようなリズム
navigator.vibrate([
    // ドクン...ドクン...
    200, 80, 100, 600,  // 1拍目
    200, 80, 100, 600,  // 2拍目
    200, 80, 100, 600,  // 3拍目
    200, 80, 100, 600,  // 4拍目
    200, 80, 100, 600,  // 5拍目
    // 徐々に早く
    180, 70, 90, 500,
    180, 70, 90, 500,
    160, 60, 80, 400,
    160, 60, 80, 400,
    140, 50, 70, 300,
    140, 50, 70, 300,
    // 最後にゆっくり
    200, 80, 100, 800,
    200, 80, 100, 0
]);
        
        setTimeout(() => {
            // 共有画面へ移動
            statusEl.textContent = '';
            document.getElementById('popup-step1').classList.add('hidden');
            document.getElementById('popup-step2share').classList.remove('hidden');
        }, 5000);
        
    } else {
        // 振動API非対応端末: 画面揺らし→動画
        statusEl.textContent = isJapanese ? '画面が揺れます...' : 'Screen will shake...';
        
        // ポップアップ全体を揺らす
        const popupContent = document.querySelector('.popup-content');
        popupContent.classList.add('shake-screen');
        
        setTimeout(() => {
            popupContent.classList.remove('shake-screen');
            
            // 動画コンテナを表示
            videoContainer.classList.remove('hidden');
            statusEl.textContent = isJapanese ? '振動のイメージをご覧ください' : 'Watch the vibration visualization';
            
            // 動画を再生
            if (video) {
                video.play().catch(err => {
                    console.log('動画の自動再生に失敗:', err);
                    statusEl.textContent = isJapanese ? '動画を再生してください' : 'Please play the video';
                });
                
                // 動画終了時に共有画面へ移動
                video.addEventListener('ended', function() {
                    statusEl.textContent = '';
                    document.getElementById('popup-step1').classList.add('hidden');
                    document.getElementById('popup-step2share').classList.remove('hidden');
                });
            } else {
                // 動画がない場合は3秒後に移動
                setTimeout(() => {
                    statusEl.textContent = '';
                    document.getElementById('popup-step1').classList.add('hidden');
                    document.getElementById('popup-step2share').classList.remove('hidden');
                }, 3000);
            }
            
        }, 2000);
    }
}

// ========================================
// 共有機能
// ========================================
function shareToTwitter() {
    const text = '振動は表現になるか？新しい表現の可能性を探る実験プロジェクト ';
    const url = window.location.href;
    const twitterUrl = `https://twitter.com/intent/tweet?text=${encodeURIComponent(text)}&url=${encodeURIComponent(url)}`;
    window.open(twitterUrl, '_blank');
}

function shareToLine() {
    const text = '振動は表現になるか？新しい表現の可能性を探る実験プロジェクト ';
    const url = window.location.href;
    const lineUrl = `https://line.me/R/msg/text/?${encodeURIComponent(text + ' ' + url)}`;
    window.open(lineUrl, '_blank');
}

function copyLink() {
    const url = window.location.href;
    navigator.clipboard.writeText(url).then(() => {
        alert(isJapanese ? 'リンクコピー完了　誰かに送って振動体験を共有しよう ' : 'Link copied! Share the vibration experience with others');
    }).catch(() => {
        prompt(isJapanese ? 'このリンクをコピーして誰かに送ってください:' : 'Copy this link and share:', url);
    });
}

// ========================================
// メニュー機能
// ========================================
let isJapanese = true;
let isMenuOpen = false;

function toggleMenu() {
    isMenuOpen = !isMenuOpen;
    const nav = document.getElementById('main-nav');
    const btn = document.getElementById('menuBtn');
    
    if (isMenuOpen) {
        nav.hidden = false;
        btn.setAttribute('aria-expanded', 'true');
        btn.setAttribute('aria-label', 'メニューを閉じる');
        btn.querySelector('.menu-text').textContent = '閉じる';
    } else {
        nav.hidden = true;
        btn.setAttribute('aria-expanded', 'false');
        btn.setAttribute('aria-label', 'メニューを開く');
        btn.querySelector('.menu-text').textContent = 'メニュー';
    }
}

function closeMenu() {
    if (isMenuOpen) {
        toggleMenu();
    }
}

// ========================================
// 言語切り替え - ポップアップ対応版
// ========================================
function toggleLanguage() {
    isJapanese = !isJapanese;
    
    // ヘッダーの言語ボタン
    if (document.getElementById('langText')) {
        document.getElementById('langText').textContent = isJapanese ? 'EN' : '日本語';
        document.getElementById('langBtn').setAttribute('aria-label', 
            isJapanese ? '言語を切り替える。現在:日本語' : 'Switch language. Current: English');
    }
    
    // ポップアップの言語ボタン
    if (document.getElementById('popupLangText')) {
        document.getElementById('popupLangText').textContent = isJapanese ? 'EN' : '日本語';
        document.getElementById('popupLangBtn').setAttribute('aria-label', 
            isJapanese ? '言語を切り替える。現在:日本語' : 'Switch language. Current: English');
    }
    
    // ポップアップ内のテキスト切り替え
    updatePopupLanguage();
    
    // メインコンテンツの言語切り替え（あとで追加）
    // ... 既存の言語切り替えコードをここに追加
}

function updatePopupLanguage() {
    if (isJapanese) {
        // 日本語
        document.getElementById('popupTitle').textContent = 'まず 振動を体験';
        document.getElementById('popupWarningTitle').textContent = '体験前の注意事項';
        document.getElementById('popupWarning1').textContent = '・一部の古い端末では動作しません';
        document.getElementById('popupWarning2').textContent = '・不快感を感じたら中止してください';
        document.getElementById('popupStep1Title').textContent = '振動を体験';
        document.getElementById('popupStep1Text').textContent = 'ボタンを押して振動を感じてみましょう';
        document.getElementById('popupVibrateStatus').textContent = 'ボタンを押してください';
        document.getElementById('popupShareTitle').textContent = '振動を共有';
        document.getElementById('popupShareText').textContent = 'この体験を友達にも届けましょう';
        document.getElementById('shareTwitterBtn').textContent = 'Xで共有';
        document.getElementById('shareLineBtn').textContent = 'LINEで共有';
        document.getElementById('shareCopyBtn').textContent = 'リンクコピー';
        document.getElementById('viewSiteBtn').textContent = 'サイトを見る';
    } else {
        // 英語
        document.getElementById('popupTitle').textContent = 'First, Experience Vibration';
        document.getElementById('popupWarningTitle').textContent = 'Important Notes';
        document.getElementById('popupWarning1').textContent = '・May not work on some older devices';
        document.getElementById('popupWarning2').textContent = '・Stop if you feel any discomfort';
        document.getElementById('popupStep1Title').textContent = 'Experience Vibration';
        document.getElementById('popupStep1Text').textContent = 'Press the button to feel the vibration';
        document.getElementById('popupVibrateStatus').textContent = 'Please press the button';
        document.getElementById('popupShareTitle').textContent = 'Share the Vibration';
        document.getElementById('popupShareText').textContent = 'Share this experience with your friends';
        document.getElementById('shareTwitterBtn').textContent = 'Share on X';
        document.getElementById('shareLineBtn').textContent = 'Share on LINE';
        document.getElementById('shareCopyBtn').textContent = 'Copy Link';
        document.getElementById('viewSiteBtn').textContent = 'View Site';
    }
}

// ========================================
// 見出しのスクロールアニメーション
// ========================================
const headingObserverOptions = {
  threshold: 0.2,
  rootMargin: '0px 0px -50px 0px'
};

const headingObserver = new IntersectionObserver(function(entries) {
  entries.forEach(entry => {
    if (entry.isIntersecting) {
      entry.target.classList.add('animate-in');
      headingObserver.unobserve(entry.target);
    }
  });
}, headingObserverOptions);

document.addEventListener('DOMContentLoaded', function() {
  // 「ポップアップ内の h2」は除外して、本体だけを対象にする
  const headings = document.querySelectorAll('h2:not(#popupTitle)');
  headings.forEach(heading => {
    headingObserver.observe(heading);
  });
});

// ========================================
// フォーム送信 → Google スプレッドシート
// ========================================
const scriptURL = 'https://script.google.com/macros/s/AKfycbyl-pELOYWxKjrQAiic_qjDJl2nEIGUZ47st-T4UGzFqtseR9Ks0o_MinNvq6xxvS4/exec';
const contactForm = document.getElementById('contactForm');
const formStatus = document.getElementById('formStatus');

if (contactForm) {
  contactForm.addEventListener('submit', function (e) {
    e.preventDefault(); // ページ遷移を止める

    formStatus.textContent = '送信中です…';

    const formData = new FormData(contactForm);

    fetch(scriptURL, {
      method: 'POST',
      mode: 'no-cors', // 簡単な方法。レスポンスは詳細見えないが、送信はされる
      body: formData
    })
    .then(() => {
      formStatus.textContent = '送信が完了しました。ありがとうございました。';
      contactForm.reset();
    })
    .catch((error) => {
      console.error('Error!', error);
      formStatus.textContent = 'エラーが発生しました。時間をおいて再度お試しください。';
    });
  });
}
</script>
          </body>
</html>


